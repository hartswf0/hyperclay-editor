<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DM MS Lifecycle Timeline - Glanceable</title>
    <style>
        :root {
            /* Color Coding */
            --sprout-color: #90EE90; --sprout-accent: #3CB371;
            --fruit-color: #FFA07A; --fruit-accent: #E9967A;
            --all-students-color: #ADD8E6; --all-students-accent: #87CEEB;
            --holiday-color: #D3D3D3; --holiday-accent: #A9A9A9;
            /* Layout & Theme */
            --timeline-bg: #2D3748; /* Dark Blue-Gray */
            --text-color: #E2E8F0; /* Light Gray */
            --axis-color: #63B3ED; /* Brighter Blue */
            --lane-divider: rgba(99, 179, 237, 0.2);
            --label-bg: rgba(45, 55, 72, 0.7); /* Semi-transparent label background */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--timeline-bg);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            line-height: 1.5;
        }

        h1, h2 {
            text-align: center;
            color: var(--axis-color);
            margin-bottom: 15px;
            font-weight: 500;
        }
        h2 { margin-top: 40px; font-size: 1.4em; }

        .legend {
            display: flex; justify-content: center; gap: 20px;
            margin-bottom: 30px; flex-wrap: wrap; font-size: 0.9em;
        }
        .legend-item { display: flex; align-items: center; gap: 6px; }
        .legend-color { width: 12px; height: 12px; border-radius: 3px; }

        /* --- Visual Timeline --- */
        #timeline-visual {
            position: relative;
            width: 96%;
            margin: 40px auto;
            padding: 20px 0; /* Reduced vertical padding */
            overflow-x: auto; /* Enable horizontal scrolling */
            border: 1px solid var(--axis-color);
            border-radius: 8px;
            background: var(--timeline-bg); /* Solid background */
        }

        .timeline-content { /* Inner container for lanes and axis */
             position: relative;
             min-width: 1500px; /* Force horizontal scroll, adjust as needed */
             padding: 0 2%; /* Horizontal padding */
        }


        .time-axis {
            position: sticky; /* Stick to bottom when scrolling */
            bottom: 0;
            left: 0; /* Make it span the container width */
            width: 100%;
            height: 40px; /* Height for labels */
            background-color: var(--timeline-bg); /* Keep background consistent */
            z-index: 20; /* Above lanes */
            border-top: 1px solid var(--lane-divider);
            display: flex; /* Use flex for positioning markers */
            align-items: flex-end; /* Align markers to the bottom */
             padding: 0 2%; /* Match container padding */
             box-sizing: border-box; /* Include padding in width */
        }

        .month-marker {
            position: absolute; /* Position based on time */
            bottom: 5px; /* Position label near bottom */
            transform: translateX(-50%);
            font-size: 0.85em;
            color: var(--axis-color);
            white-space: nowrap;
            padding: 0 3px;
            cursor: default;
        }
        .month-marker::before { /* Tick mark */
            content: '';
            position: absolute;
            bottom: 100%; /* Position tick above text */
            left: 50%;
            transform: translateX(-50%);
            width: 1px;
            height: 8px;
            background-color: var(--axis-color);
            opacity: 0.7;
        }

        .timeline-lanes {
            position: relative; /* Container for absolute positioned events */
             padding-bottom: 40px; /* Space for the sticky time axis */
        }

        .timeline-lane {
            position: relative; /* Needed for absolute positioning context */
            min-height: 100px; /* Increased height for labels */
            border-bottom: 1px dashed var(--lane-divider);
            padding: 15px 0; /* Vertical padding within lane */
        }
        .timeline-lane:last-child { border-bottom: none; }

        .lane-label {
            position: sticky; /* Stick label to the left */
            left: 10px;
            top: 15px; /* Align with lane padding */
            font-weight: 600;
            font-size: 0.95em;
            opacity: 0.9;
            background: var(--label-bg);
            padding: 3px 8px;
            border-radius: 4px;
            z-index: 15; /* Above events, below axis */
            display: inline-flex; /* Allows gap */
            align-items: center;
            gap: 6px;
        }
         .sprouts-lane .lane-label { color: var(--sprout-color); }
         .fruits-lane .lane-label { color: var(--fruit-color); }
         .all-students-lane .lane-label { color: var(--all-students-color); }
         .holidays-lane .lane-label { color: var(--holiday-color); }


        .event-wrapper {
            position: absolute;
            bottom: 25px; /* Position marker relative to bottom of lane */
            transform: translateX(-50%); /* Center wrapper on the date */
            display: flex;
            flex-direction: column; /* Stack marker and label */
            align-items: center;
            cursor: default; /* Not interactive */
            z-index: 10;
        }

        .event {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid var(--timeline-bg);
            box-shadow: 0 1px 3px rgba(0,0,0,0.3);
            margin-bottom: 5px; /* Space between marker and label */
        }

        /* Event type specific colors */
        .sprout-event .event { background-color: var(--sprout-color); }
        .fruit-event .event { background-color: var(--fruit-color); }
        .all-event .event { background-color: var(--all-students-color); }
        .holiday-event .event { background-color: var(--holiday-color); }

        .event-label {
            font-size: 0.8em;
            color: var(--text-color);
            background-color: var(--label-bg);
            padding: 2px 5px;
            border-radius: 3px;
            white-space: nowrap;
            text-align: center;
            max-width: 120px; /* Limit label width */
            overflow: hidden;
            text-overflow: ellipsis; /* Add ... if too long */
        }

        /* --- List View (Optional but Kept) --- */
         #timeline-list { /* Styles kept from previous version */
            width: 85%; max-width: 900px; margin: 30px auto;
            background-color: rgba(45, 55, 72, 0.5); padding: 20px 30px;
            border-radius: 8px; border: 1px solid var(--lane-divider);
         }
         #timeline-list ul { list-style: none; padding: 0; margin: 0; }
         #timeline-list li {
            padding: 15px 0; border-bottom: 1px solid var(--lane-divider);
            display: flex; gap: 20px; align-items: flex-start;
         }
         #timeline-list li:last-child { border-bottom: none; }
         .list-date { flex: 0 0 100px; font-weight: bold; color: var(--axis-color); opacity: 0.9; padding-top: 2px; }
         .list-content { flex: 1; }
         .list-title { font-weight: bold; font-size: 1.1em; margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }
         .list-desc { font-size: 0.95em; opacity: 0.9; }
         .list-audience { font-size: 0.85em; font-style: italic; opacity: 0.7; margin-top: 8px; }
         .list-sprout .list-title { color: var(--sprout-color); }
         .list-fruit .list-title { color: var(--fruit-color); }
         .list-all .list-title { color: var(--all-students-color); }
         .list-holiday .list-title { color: var(--holiday-color); }

    </style>
</head>
<body>

    <h1>DM MS Student Lifecycle (Glanceable Timeline)</h1>

    <div class="legend">
        <div class="legend-item"><div class="legend-color" style="background-color: var(--sprout-color);"></div>üå± 1st Year (Sprouts)</div>
        <div class="legend-item"><div class="legend-color" style="background-color: var(--fruit-color);"></div>üçì 2nd Year (Fruits)</div>
        <div class="legend-item"><div class="legend-color" style="background-color: var(--all-students-color);"></div>üë• All Students / Course</div>
        <div class="legend-item"><div class="legend-color" style="background-color: var(--holiday-color);"></div>‚è±Ô∏è Timeline / Holidays</div>
    </div>

    <!-- Visual Timeline Section -->
    <h2>Visual Timeline</h2>
    <div id="timeline-visual">
         <div class="timeline-content">
             <div class="timeline-lanes">
                 <div class="timeline-lane all-students-lane" id="all-students-lane">
                      <span class="lane-label">üë• Course / All</span>
                 </div>
                  <div class="timeline-lane sprouts-lane" id="sprouts-lane">
                      <span class="lane-label">üå± Sprouts (1st Yr)</span>
                 </div>
                 <div class="timeline-lane fruits-lane" id="fruits-lane">
                     <span class="lane-label">üçì Fruits (2nd Yr)</span>
                 </div>
                 <div class="timeline-lane holidays-lane" id="holidays-lane">
                     <span class="lane-label">‚è±Ô∏è Timeline</span>
                 </div>
                  <!-- Event wrappers added by JS into the correct lanes -->
             </div>

              <div class="time-axis" id="time-axis">
                  <!-- Month markers added by JS -->
              </div>
          </div>
    </div>

    <!-- Collated List Section (Optional) -->
    <h2>Collated Event List</h2>
    <div id="timeline-list">
        <ul id="event-list-ul">
            <!-- List items added by JS -->
        </ul>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- DATA --- (Use concise titles for labels)
            const timelineData = [
                 // Fall 2024
                { date: '2024-08-26', title: 'Kick-off', fullDesc: 'üë• Welcome, intros, course overview.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2024-09-02', title: 'Holiday', fullDesc: '‚è±Ô∏è No Class - Labor Day.', type: 'holiday', lane: 'holidays-lane', audience: 'Timeline' },
                { date: '2024-09-09', title: 'Foundations', fullDesc: 'üå± Understanding timeline, brainstorming.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2024-09-09', title: 'Fall Goals', fullDesc: 'üçì Re-introduce projects, outline goals.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2024-09-16', title: 'Feedback Ex.', fullDesc: 'üë• Positive Enforcement Feedback (Noura).', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2024-09-30', title: 'Develop Ideas', fullDesc: 'üå± Refining project ideas, methods.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2024-09-30', title: 'Progress', fullDesc: 'üçì Deeper dive presentations, troubleshooting.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2024-10-07', title: 'Prof Dev: CVs', fullDesc: 'üë• CVs, Websites discussion.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2024-10-14', title: 'Mid-Sem Check', fullDesc: 'üå± Presenting developed concepts.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2024-10-14', title: 'Mid-Sem Pres.', fullDesc: 'üçì Showing tangible progress, feedback.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2024-10-21', title: 'Holiday', fullDesc: '‚è±Ô∏è No Class - Fall Break.', type: 'holiday', lane: 'holidays-lane', audience: 'Timeline' },
                { date: '2024-10-28', title: 'Alumni Talk 1', fullDesc: 'üë• Insights from a DM Alum (Potential).', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2024-11-04', title: 'Solidify Dir.', fullDesc: 'üå± Key literature, proposal structure.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2024-11-11', title: 'Sig. Progress', fullDesc: 'üçì Presenting findings, thesis planning.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2024-11-18', title: 'Prof Dev: Portfolios', fullDesc: 'üë• Intro to portfolios, poster planning.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2024-12-02', title: 'End-Sem Pres.', fullDesc: 'üå± Presenting project direction.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2024-12-02', title: 'End-Sem Status', fullDesc: 'üçì Major project status, planning ahead.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2024-12-09', title: 'Wrap-up', fullDesc: 'üë• Final Fall meeting & reflection.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2024-12-23', title: 'Winter Break', fullDesc: '‚è±Ô∏è Approximate start of break.', type: 'holiday', lane: 'holidays-lane', audience: 'Timeline' },

                // Spring 2025
                { date: '2025-01-13', title: 'Spring Relaunch', fullDesc: 'üë• Re-orientation, goal setting.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2025-01-20', title: 'Formalize Prop.', fullDesc: 'üå± Focus on proposal structure, committees.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2025-01-20', title: 'Final Planning', fullDesc: 'üçì Thesis structure, draft deadlines.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2025-02-03', title: 'Proposal Wkshp', fullDesc: 'üå± Feedback on draft proposals.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2025-02-10', title: 'Chapter Pres.', fullDesc: 'üçì Detailed writing/analysis progress.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2025-02-17', title: 'Prof Dev: Job Search', fullDesc: 'üë• Strategies, Interviewing Skills.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2025-03-03', title: 'Near-Final Prop.', fullDesc: 'üå± Presenting detailed proposals.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2025-03-10', title: 'Near-Final Pres.', fullDesc: 'üçì Practice for defense/showcase.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2025-03-24', title: 'Poster Session', fullDesc: 'üë• Presenting work in poster format / Grad Conf.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2025-03-31', title: 'Alumni Talk 2', fullDesc: 'üë• More insights from alumni (Potential).', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2025-04-07', title: 'Finalize Prop.', fullDesc: 'üå± Planning for Summer/next year.', type: 'sprout', lane: 'sprouts-lane', audience: '1st Year (Sprouts)' },
                { date: '2025-04-14', title: 'Defense Dry Run', fullDesc: 'üçì Class feedback for final presentations.', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
                { date: '2025-04-21', title: 'Prof Dev: Portfolio Rev.', fullDesc: 'üë• Final polish workshop.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2025-04-28', title: 'End-Year Wrap', fullDesc: 'üë• Final reflections & celebration.', type: 'all', lane: 'all-students-lane', audience: 'All Students' },
                { date: '2025-05-05', title: 'Thesis Submit', fullDesc: 'üçì Target for final MS project submission (Approx).', type: 'fruit', lane: 'fruits-lane', audience: '2nd Year (Fruits)' },
            ];

            // --- SHARED SETUP ---
            const timelineStart = new Date('2024-08-15');
            const timelineEnd = new Date('2025-05-31');
            const totalDuration = timelineEnd.getTime() - timelineStart.getTime();

            const timeAxisEl = document.getElementById('time-axis');
            const lanes = {
                'sprouts-lane': document.getElementById('sprouts-lane'),
                'fruits-lane': document.getElementById('fruits-lane'),
                'all-students-lane': document.getElementById('all-students-lane'),
                'holidays-lane': document.getElementById('holidays-lane')
            };
            const eventListUl = document.getElementById('event-list-ul'); // For list view

            // --- 1. VISUAL TIMELINE GENERATION ---
            const calculatePosition = (date) => {
                const eventDate = new Date(date);
                if (eventDate < timelineStart || eventDate > timelineEnd) return -1;
                return ((eventDate.getTime() - timelineStart.getTime()) / totalDuration) * 100;
            };

            // Create Month Markers on Axis
            const months = ['Sep', 'Oct', 'Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr', 'May'];
            const yearStarts = { 'Sep': 2024, 'Jan': 2025 };
            let currentYear = 2024;
            const monthIndexMap = { Sep: 8, Oct: 9, Nov: 10, Dec: 11, Jan: 0, Feb: 1, Mar: 2, Apr: 3, May: 4 };

            months.forEach(month => {
                if (yearStarts[month]) currentYear = yearStarts[month];
                const monthDate = new Date(currentYear, monthIndexMap[month], 1); // Position at start of month
                const monthPos = calculatePosition(monthDate);

                if (monthPos >= 0) {
                    const marker = document.createElement('div');
                    marker.classList.add('month-marker');
                    marker.textContent = `${month} '${String(currentYear).slice(2)}`;
                    marker.style.left = `${monthPos}%`;
                    timeAxisEl.appendChild(marker);
                }
            });


            // Create Event Markers and Labels
            timelineData.forEach(item => {
                const eventPos = calculatePosition(item.date);
                if (eventPos < 0) return; // Skip if out of range

                const eventWrapper = document.createElement('div');
                eventWrapper.classList.add('event-wrapper', `${item.type}-event`); // Add type class to wrapper
                eventWrapper.style.left = `${eventPos}%`;

                const eventEl = document.createElement('div');
                eventEl.classList.add('event');
                // Color is applied via parent wrapper class in CSS

                const labelEl = document.createElement('div');
                labelEl.classList.add('event-label');
                labelEl.textContent = item.title; // Use concise title
                 labelEl.setAttribute('title', item.fullDesc); // Use full description for browser tooltip (optional)


                eventWrapper.appendChild(eventEl); // Marker first
                eventWrapper.appendChild(labelEl); // Then label

                // Append wrapper to the correct lane div
                const targetLane = lanes[item.lane];
                if (targetLane) {
                    targetLane.appendChild(eventWrapper);
                } else {
                    console.warn(`Lane ${item.lane} not found for event: ${item.title}`);
                }
            });

            // --- 2. COLLATED LIST GENERATION (Using fullDesc) ---
            timelineData
                .sort((a, b) => new Date(a.date) - new Date(b.date))
                .forEach(item => {
                    const li = document.createElement('li');
                    li.classList.add(`list-${item.type}`);

                    // Use item.title for the list title and item.fullDesc for description
                    li.innerHTML = `
                        <div class="list-date">${item.date}</div>
                        <div class="list-content">
                            <div class="list-title">${item.title}</div>
                            <div class="list-desc">${item.fullDesc}</div>
                            <div class="list-audience">Audience: ${item.audience}</div>
                        </div>
                    `;
                    eventListUl.appendChild(li);
                });

        });
    </script>

</body>
</html>